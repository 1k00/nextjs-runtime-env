{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/andrewmclagan/development/beam/packages/react-env/examples/next.js/pages/index.js\";\nimport \"isomorphic-fetch\";\nimport React from \"react\";\nimport Head from \"next/head\";\nimport env from \"@beam-australia/react-env\";\nvar styles = {\n  padding: 30,\n  margin: 30,\n  backgroundColor: \"#eee\",\n  fontFamily: \"monospace\"\n};\n\nvar _default =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(_default, _React$Component);\n\n  function _default() {\n    _classCallCheck(this, _default);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(_default).apply(this, arguments));\n  }\n\n  _createClass(_default, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        style: {\n          width: 650,\n          margin: \"0 auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      }, React.createElement(Head, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, React.createElement(\"title\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, \"React Env\"), React.createElement(\"script\", {\n        src: \"/static/env.js\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      })), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, \"React Env - \", env(\"FRAMEWORK\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, \"Runtime environment variables\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, \"Environment\"), React.createElement(\"div\", {\n        style: styles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, React.createElement(\"pre\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, _JSON$stringify(env(), null, 2))), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, \"Hidden Secret\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"The hidden secret is: \", env(\"HIDDEN_SECRET\") || \"N/A\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"Todos\"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, this.props.todos.slice(0, 5).map(function (todo) {\n        return React.createElement(\"li\", {\n          key: todo.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, todo.title);\n      })));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response, todos;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"\".concat(process.env.API_HOST, \"/todos\"));\n\n              case 2:\n                response = _context.sent;\n                _context.next = 5;\n                return response.json();\n\n              case 5:\n                todos = _context.sent;\n                return _context.abrupt(\"return\", {\n                  todos: todos\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return _default;\n}(React.Component);\n\nexport { _default as default };","map":{"version":3,"sources":["/Users/andrewmclagan/development/beam/packages/react-env/examples/next.js/pages/index.js"],"names":["React","Head","env","styles","padding","margin","backgroundColor","fontFamily","width","props","todos","slice","map","todo","id","title","fetch","process","API_HOST","response","json","Component"],"mappings":";;;;;;;;;AAAA,OAAO,kBAAP;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,GAAP,MAAgB,2BAAhB;AAEA,IAAMC,MAAM,GAAG;AACbC,EAAAA,OAAO,EAAE,EADI;AAEbC,EAAAA,MAAM,EAAE,EAFK;AAGbC,EAAAA,eAAe,EAAE,MAHJ;AAIbC,EAAAA,UAAU,EAAE;AAJC,CAAf;;;;;;;;;;;;;;;6BAcW;AACP,aACE;AAAK,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAE,GAAT;AAAcH,UAAAA,MAAM,EAAE;AAAtB,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE;AAAQ,QAAA,GAAG,EAAC,gBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAiBH,GAAG,CAAC,WAAD,CAApB,CALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCANF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBARF,EASE;AAAK,QAAA,KAAK,EAAEC,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,gBAAeD,GAAG,EAAlB,EAAsB,IAAtB,EAA4B,CAA5B,CAAN,CADF,CATF,EAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAZF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAA0BA,GAAG,CAAC,eAAD,CAAH,IAAwB,KAAlD,CAdF,EAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAfF,EAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAhBF,EAiBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKO,KAAL,CAAWC,KAAX,CAAiBC,KAAjB,CAAuB,CAAvB,EAA0B,CAA1B,EAA6BC,GAA7B,CAAiC,UAAAC,IAAI;AAAA,eACpC;AAAI,UAAA,GAAG,EAAEA,IAAI,CAACC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmBD,IAAI,CAACE,KAAxB,CADoC;AAAA,OAArC,CADH,CAjBF,CADF;AAyBD;;;;;;;;;;;;;uBA/BwBC,KAAK,WAAIC,OAAO,CAACf,GAAR,CAAYgB,QAAhB,Y;;;AAAtBC,gBAAAA,Q;;uBACcA,QAAQ,CAACC,IAAT,E;;;AAAdV,gBAAAA,K;iDACC;AAAEA,kBAAAA,KAAK,EAALA;AAAF,iB;;;;;;;;;;;;;;;;;;;EAJkBV,KAAK,CAACqB,S","sourcesContent":["import \"isomorphic-fetch\";\nimport React from \"react\";\nimport Head from \"next/head\";\nimport env from \"@beam-australia/react-env\";\n\nconst styles = {\n  padding: 30,\n  margin: 30,\n  backgroundColor: \"#eee\",\n  fontFamily: \"monospace\"\n};\n\nexport default class extends React.Component {\n  static async getInitialProps() {\n    const response = await fetch(`${process.env.API_HOST}/todos`);\n    const todos = await response.json();\n    return { todos };\n  }\n\n  render() {\n    return (\n      <div style={{ width: 650, margin: \"0 auto\" }}>\n        <Head>\n          <title>React Env</title>\n          <script src=\"/static/env.js\" />\n        </Head>\n        <h1>React Env - {env(\"FRAMEWORK\")}</h1>\n        <p>Runtime environment variables</p>\n        <hr />\n        <h3>Environment</h3>\n        <div style={styles}>\n          <pre>{JSON.stringify(env(), null, 2)}</pre>\n        </div>\n        <h3>Hidden Secret</h3>\n        <hr />\n        <p>The hidden secret is: {env(\"HIDDEN_SECRET\") || \"N/A\"}</p>\n        <hr />\n        <h3>Todos</h3>\n        <ul>\n          {this.props.todos.slice(0, 5).map(todo => (\n            <li key={todo.id}>{todo.title}</li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}